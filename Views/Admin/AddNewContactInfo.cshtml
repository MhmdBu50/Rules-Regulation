@using Microsoft.AspNetCore.Localization

@{
  ViewData["Title"] = "Add New Contact Info";
  var requestCulture = Context.Features.Get<IRequestCultureFeature>();
  var currentCulture = requestCulture?.RequestCulture.Culture.Name ?? "en-US";
  var isArabic = currentCulture == "ar-SA";
  ViewBag.IsArabic = isArabic;
}

@section Styles {
  <link rel="stylesheet" href="~/css/AddContactInfo.css">
  <link rel="stylesheet" href="~/css/adminPagesHeader.css">
  <link rel="stylesheet" href="~/css/adminMobileMenu.css">
}
<!--test branch-->
@section Scripts {
  <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="~/js/addnewcontactinfo.js"></script>
  <script src="~/js/adminPagesHeader.js"></script>
  <script src="~/js/adminMobileMenu.js"></script>
}

<div class="AddContactInfo mb-footer-space">
  <!-- New Admin Header -->
  @await Html.PartialAsync("adminPagesHeader")

  <!-- Logo -->
  <div class="container logo-container">
    <img class="header-logo mx-auto d-block" src="~/imgs/IAU Logo (Horizontal).png" alt="IAU Logo">
  </div>

  <!-- Main Header -->
  <div class="main-header">
    <!-- Add Contact Information -->
    <h1 id="title-90101"></h1>
    <!-- Add new contact information for departments -->
    <p class="subtitle" id="subtitle-90101"></p>
  </div>

  @if (TempData["SuccessMessage"] != null)
  {
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      @TempData["SuccessMessage"]
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  }

  @if (TempData["ErrorMessage"] != null)
  {
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      @TempData["ErrorMessage"]
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  }

  <!-- Form Section -->
  <div class="container">
    <div class="form-wrapper">
      <form method="post" action="@Url.Action("AddNewContactInfo", "Admin")">
        @Html.AntiForgeryToken()

        <div class="mb-5">
          <!-- Relevant Department -->
          <label for="Department" id="label-department-90101"></label>
          <select class="form-select" id="Department" name="Department" required>
            <!-- Select department -->
            <option value="" id="option-select-dept-90101"></option>
            <!-- Reg and Admission -->
            <option value="Reg and Admission" id="option-reg-90101"></option>
            <!-- CCSIT -->
            <option value="CCSIT" id="option-ccsit-90101"></option>
            <!-- Communication and tech -->
            <option value="Communication and tech" id="option-commtech-90101"></option>
            <!-- Hospital -->
            <option value="Hospital" id="option-hospital-90101"></option>
            <!-- Library -->
            <option value="Library" id="option-library-90101"></option>
            <!-- Students Affairs -->
            <option value="Students Affairs" id="option-affairs-90101"></option>
            <!-- Preparetory -->
            <option value="Preparetory" id="option-prep-90101"></option>
            <!-- Academic Affairs -->
            <option value="Academic Affairs" id="option-academic-90101"></option>
          </select>
        </div>

        <div class="row mb-5">
          <div class="col-md-6">
            <!-- Name of Responsible Person (English) -->
            <label for="Name" id="label-name-en-90101"></label>
            <input type="text" class="form-control" id="Name" name="Name" required pattern="[a-zA-Z0-9\s\-.,'()&]*"
              title="Please enter English text only" placeholder="Enter name in English only"
              oninput="this.value = this.value.replace(/[^\u0000-\u007F\s\-.,'()&]/g, '')"
              onkeypress="return /[\u0000-\u007F\s\-.,'()&]/.test(String.fromCharCode(event.charCode)) || event.charCode === 8 || event.charCode === 0">
            <div id="nameError" class="text-danger mt-1"></div>
          </div>
          <div class="col-md-6">
            <!-- Name of Responsible Person (Arabic) -->
            <label for="NameAr" id="label-name-ar-90101"></label>
            <input type="text" class="form-control" id="NameAr" name="NameAr" lang="ar" dir="rtl" required
              pattern="[\u0600-\u06FF\s\u060C\u061B\u061F\u0640\-.,'،]*" title="Please enter Arabic text only"
              placeholder="Please enter Arabic text only" required
              oninput="this.value = this.value.replace(/[^\u0600-\u06FF\s\u060C\u061B\u061F\u0640\-.,'،]/g, '')"
              onkeypress="return /[\u0600-\u06FF\s\u060C\u061B\u061F\u0640\-.,'،]/.test(String.fromCharCode(event.charCode)) || event.charCode === 8 || event.charCode === 0">
            <div id="nameArError" class="text-danger mt-1"></div>
          </div>
        </div>

        <div class="mb-5">
          <!-- E-mail -->
          <label for="Email" id="label-email-90101"></label>
          <input type="email" class="form-control" id="Email" name="Email"
            placeholder="Enter email address(example@example.com)" required>
        </div>

        <div class="mb-5">
          <!-- Telephone number -->
          <label for="Telephone" id="label-telephone-90101"></label>
          <input type="tel" class="form-control" id="Telephone" name="Telephone" placeholder="01XXXXXXXX" maxlength="10"
            pattern="[0-9]{10}" required oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,10)"
            onkeypress="return event.charCode >= 48 && event.charCode <= 57" title="Enter exactly 10 digits">
        </div>

        <div class="mb-5">
          <!-- Mobile number -->
          <label for="Mobile" id="label-mobile-90101"></label>
          <div class="input-group" dir="ltr">
            <span class="input-group-text shadowed">+966</span>
            <input type="tel" class="form-control" id="Mobile" name="Mobile" placeholder="05XXXXXXXX" maxlength="10"
              pattern="[0-9]{10}" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,10)"
              onkeypress="return event.charCode >= 48 && event.charCode <= 57" title="Enter exactly 10 digits">
          </div>
        </div>

        <div class="text-center">
          <!-- Submit -->
          <button type="submit" class="btn btn-primary me-2" id="btn-submit-90101"></button>
          <!- Cancel button -->
          <button type="button" class="btn btn-secondary" onclick="confirmCancel()"
            id="btn-cancel-90101"></button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- End of Form Section -->

@await Html.PartialAsync("_Footer")