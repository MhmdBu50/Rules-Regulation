@section Styles {
  <link rel="stylesheet" href="~/css/AddNewRecord.css">
}
<!-- javascript files, from js file-->
@section Scripts {
  <script src="~/js/addnewrecord.js"></script>
  <script src="js/bootstrap.js"></script>
}
<!-- This file contains the view for adding a new record in the admin panel. -->
<!-- It includes a form for entering details about the regulation or manual
     it includes details like name, version number, department, approval date etc. -->
<div class="AddNewRecord">

  <!-- Top Bar -->
  <div class="top-bar">
    <a class="btn" onclick="location.href='@Url.Action("AdminPage", "Admin")'"> <img
        src="@Url.Content("~/svgs/admin/backButton.svg")"> Back</a>
    <a class="btn" onclick="location.href='@Url.Action("homePage", "Home")'"> Logout <img
        src="@Url.Content("~/svgs/admin/logOut.svg")"> </a>
  </div>

  <!-- Logo -->
  <div class="container logo-container">
    <img class="header-logo mx-auto d-block" src="~/imgs/IAU Logo (Horizontal).png" alt="IAU Logo">
  </div>

  <!-- Main Header -->
  <div class="main-header">
    <h1>New Record</h1>
  </div>

  <!-- Success/Error Messages -->
  <div class="container">
    @if (TempData["SuccessMessage"] != null)
    {
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    }
  </div>

  <!-- Form Section -->
  <div class="container">
    <div class="form-wrapper">
      <form asp-controller="Admin" asp-action="AddNewRecord" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="regulationName">Regulation/Manual Name (English)</label>
            <input type="text" class="form-control" id="regulationName" name="regulationName" required>
          </div>
          <div class="col-md-6">
            <label for="regulationNameAr">Regulation/Manual Name (Arabic)</label>
            <input type="text" class="form-control" id="regulationNameAr" name="regulationNameAr" dir="rtl" lang="ar" required>
            <div id="regulationNameArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="relevantDepartment">Relevant Department</label>
            <select class="form-select" id="relevantDepartment" name="relevantDepartment" required>
              <option value="">Select department</option>
              <option value="Reg and Admission">Reg and Admission</option>
              <option value="CCSIT">CCSIT</option>
              <option value="Communication and tech">Communication and tech</option>
              <option value="Hospital">Hospital</option>
              <option value="Library">Library</option>
              <option value="Students Affairs">Students Affairs</option>
              <option value="Preparetory">Preparetory</option>
              <option value="Academic Affairs">Academic Affairs</option>
            </select>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <label for="versionNumber">Version Number</label>
            <input type="text" class="form-control" id="versionNumber" name="versionNumber" required>
          </div>
          <div class="col-md-4">
            <label for="versionDate">Version Date</label>
            <input type="date" class="form-control" id="versionDate" name="versionDate" required>
          </div>
          <div class="col-md-4">
            <label for="ApprovingDate">Approving Date</label>
            <input type="date" class="form-control" id="ApprovingDate" name="ApprovingDate" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="ApprovingEntity">Approving Entity (English)</label>
            <input type="text" class="form-control" id="ApprovingEntity" name="ApprovingEntity" required>
          </div>
          <div class="col-md-6">
            <label for="ApprovingEntityAr">Approving Entity (Arabic)</label>
            <input type="text" class="form-control" id="ApprovingEntityAr" name="ApprovingEntityAr" dir="rtl" lang="ar" required>
            <div id="approvingEntityArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="wordAttachment">Word Attachment</label>
            <input type="file" class="form-control" id="wordAttachment" name="wordAttachment" accept=".doc,.docx">
          </div>
          <div class="col-md-6">
            <label for="pdfAttachment">PDF Attachment</label>
            <input type="file" class="form-control" id="pdfAttachment" name="pdfAttachment" accept=".pdf">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="Description">Brief Description (English)</label>
            <textarea class="form-control" id="Description" name="Description" rows="3"></textarea>
          </div>
          <div class="col-md-6">
            <label for="DescriptionAr">Brief Description (Arabic)</label>
            <textarea class="form-control" id="DescriptionAr" name="DescriptionAr" rows="3" dir="rtl" lang="ar"></textarea>
            <div id="descriptionArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-4">
          <div class="col-md-5">
            <label>Document Type</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Student guides & templates" id="reg"
                required>
              <label class="form-check-label" for="reg">Student guides & templates</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Student rules & regulations"
                id="Guidelines">
              <label class="form-check-label" for="Guidelines">Student rules & regulations</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Employees’ rules & regulations"
                id="policy">
              <label class="form-check-label" for="policy">Employees’ rules & regulations</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Academic rules & regulations"
                id="policy">
              <label class="form-check-label" for="policy">Academic rules & regulations</label>
            </div>
          </div>
        </div>

        <div class="row mb-5">
          <div class="col-md-6">
            <label for="notes">Notes (English)</label>
            <input type="text" class="form-control" id="notes" name="notes">
          </div>
          <div class="col-md-6">
            <label for="notesAr">Notes (Arabic)</label>
            <input type="text" class="form-control" id="notesAr" name="notesAr" dir="rtl" lang="ar">
            <div id="notesArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-primary me-2">Save and upload</button>
          <button type="button" class="btn btn-secondary" onclick="confirmCancel()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>