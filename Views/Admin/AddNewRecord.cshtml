@section Styles {
  <link rel="stylesheet" href="~/css/AddNewRecord.css">
}
<!-- javascript files, from js file-->
@section Scripts {
  <script src="~/js/addnewrecord.js"></script>
  <script src="js/bootstrap.js"></script>
}
<!-- This file contains the view for adding a new record in the admin panel. -->
<!-- It includes a form for entering details about the regulation or manual
     it includes details like name, version number, department, approval date etc. -->
<div class="AddNewRecord">

  <!-- Top Bar -->
  <div class="top-bar">

    <!-- Back Button -->
    <a class="btn" onclick="location.href='@Url.Action("AdminPage", "Admin")'"> 
      <img src="@Url.Content("~/svgs/admin/backButton.svg")"> 
      <span id="btn-back" class="me-2"></span>
    </a>    

    <!-- Logout Button --> 
    <form method="post" action="@Url.Action("Logout", "Account")" style="display: inline;">
        @Html.AntiForgeryToken()
        <button type="submit" class="btn"  style="background: none; border: none; padding: 0; color: inherit; text-decoration: none; cursor: pointer;">
          <span id="btn-logout" class="ms-2"></span>
          <img src="@Url.Content("~/svgs/admin/logOut.svg")">       
        </button>
    </form>
  </div>

  <!-- Logo -->
  <div class="container logo-container">
    <img class="header-logo mx-auto d-block" src="~/imgs/IAU Logo (Horizontal).png" alt="IAU Logo">
  </div>

  <!-- Main Header -->
  <div class="main-header">
    <h1 id="add-record-page-title">New Record</h1>
  </div>

  <!-- Success/Error Messages -->
  <div class="container">
    @if (TempData["SuccessMessage"] != null)
    {
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    }
  </div>

  <!-- Form Section -->
  <div class="container">
    <div class="form-wrapper">
      <form asp-controller="Admin" asp-action="AddNewRecord" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="regulationName" id= "label-regulationName">Regulation/Manual Name (English)</label>
            <input type="text" class="form-control" id="regulationName" name="regulationName" required>
            <div id="regulationNameError" class="text-danger mt-1" style="display: none;"></div>
          </div>
          <div class="col-md-6">
            <label for="regulationNameAr" id="label-regulationNameAr">Regulation/Manual Name (Arabic)</label>
            <input type="text" class="form-control" id="regulationNameAr" name="regulationNameAr" dir="rtl" lang="ar" required>
            <div id="regulationNameArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="relevantDepartment" id="label-relevantDepartment">Relevant Department</label>
            <select class="form-select" id="relevantDepartment" name="relevantDepartment" required>
              <option value="" id="select-department1">Select department</option>
              <option value="Reg and Admission" id="option-dept-reg">Reg and Admission</option>
              <option value="CCSIT" id="option-dept-ccsit">CCSIT</option>
              <option value="Communication and tech" id="option-dept-tech">Communication and tech</option>
              <option value="Hospital" id="option-dept-hospital">Hospital</option>
              <option value="Library" id="option-dept-library">Library</option>
              <option value="Students Affairs" id="option-dept-students">Students Affairs</option>
              <option value="Preparetory" id="option-dept-prep">Preparetory</option>
              <option value="Academic Affairs" id="option-dept-academic">Academic Affairs</option>
            </select>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <label for="versionNumber" id="label-versionNumber">Version Number</label>
            <input type="text" class="form-control" id="versionNumber" name="versionNumber" required>
          </div>
          <div class="col-md-4">
            <label for="versionDate" id="label-versionDate">Version Date</label>
            <input type="date" class="form-control" id="versionDate" name="versionDate" required>
          </div>
          <div class="col-md-4">
            <label for="ApprovingDate" id="label-approvingDate">Approving Date</label>
            <input type="date" class="form-control" id="ApprovingDate" name="ApprovingDate" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="ApprovingEntity" id="label-approvingEntity">Approving Entity (English)</label>
            <input type="text" class="form-control" id="ApprovingEntity" name="ApprovingEntity" required>
            <div id="ApprovingEntityError" class="text-danger mt-1" style="display: none;"></div>
          </div>
          <div class="col-md-6">
            <label for="ApprovingEntityAr" id="label-approvingEntityAr">Approving Entity (Arabic)</label>
            <input type="text" class="form-control" id="ApprovingEntityAr" name="ApprovingEntityAr" dir="rtl" lang="ar" required>
            <div id="approvingEntityArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="wordAttachment" id="label-wordAttachment">Word Attachment</label>
            <input type="file" class="form-control" id="wordAttachment" name="wordAttachment" accept=".doc,.docx">
          </div>
          <div class="col-md-6">
            <label for="pdfAttachment" id="label-pdfAttachment">PDF Attachment</label>
            <input type="file" class="form-control" id="pdfAttachment" name="pdfAttachment" accept=".pdf">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="Description" id="label-description">Brief Description (English)</label>
            <textarea class="form-control" id="Description" name="Description" rows="3"></textarea>
            <div id="DescriptionError" class="text-danger mt-1" style="display: none;"></div>
          </div>
          <div class="col-md-6">
            <label for="DescriptionAr" id="label-descriptionAr">Brief Description (Arabic)</label>
            <textarea class="form-control" id="DescriptionAr" name="DescriptionAr" rows="3" dir="rtl" lang="ar"></textarea>
            <div id="descriptionArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="row mb-4">
          <div class="col-md-5">
            <label id="label-doc-type-section-7851">Document Type</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Student guides & templates" id="reg"
                required>
              <label class="form-check-label" for="reg" id="label-doc-student-guides-7851">Student guides & templates</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Student rules & regulations"
                id="Guidelines">
              <label class="form-check-label" for="Guidelines" id="label-doc-student-rules-7851">Student rules & regulations</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Employees’ rules & regulations"
                id="policy">
              <label class="form-check-label" for="policy" id= "label-doc-employee-rules-7851">Employees’ rules & regulations</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="doctype" value="Academic rules & regulations"
                id="policy">
              <label class="form-check-label" for="policy" id="label-doc-academic-rules-7851">Academic rules & regulations</label>
            </div>
          </div>
        </div>

        <div class="row mb-5">
          <div class="col-md-6">
            <label for="notes" id="label-notes">Notes (English)</label>
            <input type="text" class="form-control" id="notes" name="notes">
            <div id="notesError" class="text-danger mt-1" style="display: none;"></div>
          </div>
          <div class="col-md-6">
            <label for="notesAr" id="label-notesAr">Notes (Arabic)</label>
            <input type="text" class="form-control" id="notesAr" name="notesAr" dir="rtl" lang="ar">
            <div id="notesArError" class="text-danger mt-1" style="display: none;"></div>
          </div>
        </div>

        <div class="text-center mt-4">
          <button type="submit" class="btn btn-primary me-2" id="btn-save">Save and upload</button>
          <button type="button" class="btn btn-secondary" onclick="confirmCancel()" id="btn-cancel">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>

@await Html.PartialAsync("_Footer")